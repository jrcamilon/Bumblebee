import { Component, OnInit } from '@angular/core';
import { config } from './map-config';
import { DataService } from 'app/data.service';

@Component({
  selector: 'app-maps',
  templateUrl: './maps.component.html',
  styleUrls: ['./maps.component.css']
})

export class MapsComponent implements OnInit {

  markers = [
    {lat: 24.08532911, lng: 32.88544272},
    {lat: 24.08547593, lng: 32.88600277},
    {lat: 24.08345496, lng: 32.88528996},
    {lat: 24.08419543, lng: 32.88456208},
    {lat: 24.08493165, lng: 32.88574781},
    {lat: 24.08501848, lng: 32.88461246},
    {lat: 24.08417586, lng: 32.8869083 },
    {lat: 24.08438573, lng: 32.88547014},
    {lat: 24.08410292, lng: 32.88588527},
    {lat: 24.08511256, lng: 32.88553703},
    {lat: 24.08342586, lng: 32.88643061},
    {lat: 24.08483454, lng: 32.88719898},
    {lat: 24.08404076, lng: 32.88695251},
    {lat: 24.0852005,  lng: 32.88611885},
    {lat: 24.08369346, lng: 32.88621731},
    {lat: 24.08484891, lng: 32.88475696},
    {lat: 24.0844144,  lng: 32.88451397},
    {lat: 24.08448057, lng: 32.88691473},
    {lat: 24.0835908,  lng: 32.88651925},
    {lat: 24.08485582, lng: 32.88531564},
    {lat: 24.08538138, lng: 32.88687969},
    {lat: 24.08443854, lng: 32.88476883},
    {lat: 24.08356736, lng: 32.88579147},
    {lat: 24.08495483, lng: 32.88580176},
    {lat: 24.08378034, lng: 32.88601976},
    {lat: 24.08341188, lng: 32.88552569},
    {lat: 24.08346696, lng: 32.8862449},
    {lat: 24.08429117, lng: 32.88615054},
    {lat: 24.08447069, lng: 32.88603601},
    {lat: 24.08401154, lng: 32.88685528},
    {lat: 24.084918,   lng: 32.88511222},
    {lat: 24.08399874, lng: 32.88605614},
    {lat: 24.08506321, lng: 32.88458272},
    {lat: 24.085529,   lng: 32.88562899},
    {lat: 24.08410948, lng: 32.88685359},
    {lat: 24.08464924, lng: 32.88634316},
    {lat: 24.085564,   lng: 32.88507507},
    {lat: 24.08357955, lng: 32.8858612},
    {lat: 24.08532872, lng: 32.88659234},
    {lat: 24.08451049, lng: 32.88482978},
    {lat: 24.08494862, lng: 32.88565118},
    {lat: 24.08574772, lng: 32.88604067},
    {lat: 24.08505834, lng: 32.88676368},
    {lat: 24.0859088,  lng: 32.88578006},
    {lat: 24.08567606, lng: 32.88596921},
    {lat: 24.08340583, lng: 32.88563227},
    {lat: 24.08438008, lng: 32.88608675},
    {lat: 24.08472027, lng: 32.88691667},
    {lat: 24.08566412, lng: 32.88577781},
    {lat: 24.08395199, lng: 32.88712335},
    {lat: 24.08481366, lng: 32.88455154},
    {lat: 24.0840362,  lng: 32.88546147},
    {lat: 24.08553369, lng: 32.88690564},
    {lat: 24.08406971, lng: 32.88461105},
    {lat: 24.08395108, lng: 32.8856632},
    {lat: 24.08569721, lng: 32.8850127},
    {lat: 24.08537878, lng: 32.88510826},
    {lat: 24.08523377, lng: 32.88544833},
    {lat: 24.08595803, lng: 32.88622639},
    {lat: 24.08414299, lng: 32.88597977},
    {lat: 24.08381339, lng: 32.88534907},
    {lat: 24.08575796, lng: 32.8858842},
    {lat: 24.08584431, lng: 32.88653165},
    {lat: 24.08372277, lng: 32.88650465},
    {lat: 24.08580791, lng: 32.88597295},
    {lat: 24.08557893, lng: 32.88658964},
    {lat: 24.08549446, lng: 32.88495262},
    {lat: 24.08585353, lng: 32.88627158},
    {lat: 24.08511639, lng: 32.88677209},
    {lat: 24.08531105, lng: 32.88676479},
    {lat: 24.08450427, lng: 32.88685619},
    {lat: 24.08525923, lng: 32.88628568},
    {lat: 24.08349104, lng: 32.88550948},
    {lat: 24.08502542, lng: 32.88593927},
    {lat: 24.08445595, lng: 32.88570677},
    {lat: 24.08450406, lng: 32.88477053},
    {lat: 24.08495139, lng: 32.88488725},
    {lat: 24.08512964, lng: 32.8846852},
    {lat: 24.08549856, lng: 32.88538975},
    {lat: 24.08399197, lng: 32.88545545},
    {lat: 24.08526895, lng: 32.88580719},
    {lat: 24.08552043, lng: 32.8852211},
    {lat: 24.08437939, lng: 32.8867392},
    {lat: 24.0841117,  lng: 32.88669318},
    {lat: 24.08486419, lng: 32.88733166},
    {lat: 24.08445863, lng: 32.88679186},
    {lat: 24.08463069, lng: 32.886083},
    {lat: 24.08560319, lng: 32.88581523},
    {lat: 24.08499644, lng: 32.88656744},
    {lat: 24.08429395, lng: 32.88461516},
    {lat: 24.08371109, lng: 32.88530402},
    {lat: 24.08456577, lng: 32.88573763},
    {lat: 24.08580573, lng: 32.88559885},
    {lat: 24.08517516, lng: 32.88689679},
    {lat: 24.08498131, lng: 32.88462637},
    {lat: 24.08575986, lng: 32.88591872},
    {lat: 24.08534563, lng: 32.88590405},
    {lat: 24.08354052, lng: 32.88571674},
    {lat: 24.0845303,  lng: 32.88519364},
    {lat: 24.08382721, lng: 32.88681566},
    {lat: 24.08540721, lng: 32.88480799},
    {lat: 24.08410192, lng: 32.88647103},
    {lat: 24.08575714, lng: 32.88658884},
    {lat: 24.08440536, lng: 32.88472458},
    {lat: 24.0851277,  lng: 32.88697376},
    {lat: 24.08422471, lng: 32.88542681},
    {lat: 24.08567705, lng: 32.88571827},
    {lat: 24.0855765,  lng: 32.88612051},
    {lat: 24.08347178, lng: 32.88554176},
    {lat: 24.08501272, lng: 32.88676682},
    {lat: 24.0847981,  lng: 32.8859619},
    {lat: 24.08487263, lng: 32.88529681},
    {lat: 24.08496858, lng: 32.88609135},
    {lat: 24.08363962, lng: 32.88606416},
    {lat: 24.08357571, lng: 32.88506424},
    {lat: 24.08360253, lng: 32.88522155},
    {lat: 24.08512615, lng: 32.8861389},
    {lat: 24.084954,   lng: 32.88564721},
    {lat: 24.08543324, lng: 32.88535919},
    {lat: 24.0842161,  lng: 32.88588407},
    {lat: 24.08566705, lng: 32.88557867},
    {lat: 24.08442767, lng: 32.8860461},
    {lat: 24.0857209,  lng: 32.88624203},
    {lat: 24.08379643, lng: 32.88649482},
    {lat: 24.08530916, lng: 32.88617947},
    {lat: 24.08575975, lng: 32.88647631},
    {lat: 24.08395345, lng: 32.88651226},
    {lat: 24.08564699, lng: 32.88546866},
    {lat: 24.08505489, lng: 32.88714957},
    {lat: 24.08495884, lng: 32.88581816},
    {lat: 24.08472332, lng: 32.88446599},
    {lat: 24.08423092, lng: 32.88671538},
    {lat: 24.08471099, lng: 32.88517891},
    {lat: 24.08403546, lng: 32.88504388},
    {lat: 24.08410372, lng: 32.88502156},
    {lat: 24.08391564, lng: 32.88588246},
    {lat: 24.08458145, lng: 32.88585865},
    {lat: 24.08516799, lng: 32.88694274},
    {lat: 24.08500449, lng: 32.88502106},
    {lat: 24.08452821, lng: 32.88488548},
    {lat: 24.08422768, lng: 32.88472539},
    {lat: 24.08478961, lng: 32.88707615},
    {lat: 24.08428071, lng: 32.88494249},
    {lat: 24.08376848, lng: 32.8858953},
    {lat: 24.08473798, lng: 32.88516603},
    {lat: 24.08553025, lng: 32.88618624},
    {lat: 24.08492138, lng: 32.88686725},
    {lat: 24.0856583,  lng: 32.88573656},
    {lat: 24.084395,   lng: 32.88515704},
    {lat: 24.08423284, lng: 32.88719175},
    {lat: 24.08563403, lng: 32.88637339},
    {lat: 24.08551567, lng: 32.88582694},
    {lat: 24.0846517,  lng: 32.88454552},
    {lat: 24.08461742, lng: 32.8845651},
    {lat: 24.08475514, lng: 32.88622555},
    {lat: 24.08433789, lng: 32.88640092},
    {lat: 24.08380082, lng: 32.88683466},
    {lat: 24.08389166, lng: 32.88681404},
    {lat: 24.08489372, lng: 32.88683458},
    {lat: 24.084133,   lng: 32.88640469},
    {lat: 24.08401732, lng: 32.88539689},
    {lat: 24.08351348, lng: 32.88519916}
    ];

  mapStyles = config.styles;

  constructor(private _ds: DataService) {
    console.log('here');
    this._ds.elephantineData.subscribe(res => {
      this.markers = res.map(rec => {
        return new Object({lat: rec.lat, lng: rec.lng});
      })
    })
  }

  ngOnInit() {
    this._ds.getElephantineData()
    .subscribe((res) => {
      this._ds.elephantineData.next(res);
    },
    (err) => {
      alert('error with api');
    });
  }


}
